<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml"
      xmlns="http://www.w3.org/1999/html" >
<head>
  <meta charset="UTF-8">
  <div th:replace="fragments/header :: imports"></div>
  <title>Orders</title>
</head>
<body>
<div th:replace="fragments/header :: header"></div>

<div class ="container">
  <div class = "row">
<h1>List of Movies</h1>
  </div>

  <div class="container">
    <table class="table table-bordered">
      <tr>
        <th>
          <a th:text="#{movie.id}" th:href="@{${#httpServletRequest.requestURI}
                (page=${currentPage},
                sortBy='id',
                direction=${reverseDirection})}">Movie ID</a>
        </th>
        <th>
          <a th:text="#{movie.name}" th:href="@{${#httpServletRequest.requestURI}
                (page=${currentPage},
                sortBy='movieName',
                direction=${reverseDirection})}">Movie Name</a>
        </th>
        <th>
          <a th:text="#{movie.country}" th:href="@{${#httpServletRequest.requestURI}
                (page=${currentPage},
                sortBy='country',
                direction=${reverseDirection})}">Movie name</a>
        </th>
        <th>
          <a th:text="#{movie.director}" th:href="@{${#httpServletRequest.requestURI}
                (page=${currentPage},
                sortBy='director',
                direction=${reverseDirection})}">Movie Director</a>
        </th>
        <th>
          <a th:text="#{movie.year}" th:href="@{${#httpServletRequest.requestURI}
                (page=${currentPage},
                sortBy='year',
                direction=${reverseDirection})}">Movie Director</a>
        </th>
      </tr>

      <div class = "row">
        <div class = "col-lg-3">
          <a th:href = "@{~/user/admin/movies/new}" class = "btn btn-primary btn-sm mb-3"> Add Movie</a>
          <p></p>
        </div>
      </div>

      <tr th:each="movie : ${movies}">
        <td th:text="${movie.getId()}">Movie ID</td>
        <td th:text="${movie.getMovieName()}">Movie ID</td>
        <td th:text="${movie.getCountry()}">Movie Country</td>
        <td th:text="${movie.getDirector()}">Movie Director</td>
        <td th:text="${movie.getYear()}">Movie Year</td>
        <td>

          <a th:href="@{~/user/admin/movies/edit/(id=${movie.id})}"
             class="btn btn-primary">Edit</a>

          <a th:href="@{~/user/admin/movies/delete/(id=${movie.id})}"
             class="btn btn-danger">Delete</a>

        </td>

      </tr>
    </table>


    <div th:insert="fragments/pagination :: pagination-bar"></div>
  </div>
</div>

    <p></p>
      <a href="/user/admin/all-orders" class="btn btn-lg btn-primary btn-block" th:text="#{go.to.orders}" >
        Go to Orders</a>

</body>
</html>